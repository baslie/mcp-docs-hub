---
title: Генерируем ответ с помощью GigaChat
source_url: https://developers.sber.ru/docs/ru/salutebot/scenario/blocks/gigachatrequest
tags: [Graph]
---

# Генерируем ответ с помощью GigaChat

Блок **Генерация ответа** предназначен для генерации ответа пользователю чат-бота через GigaChat.
С 30 июля 2025 года пользователь может использовать собственные [ключи авторизации GigaChat](https://developers.sber.ru/docs/ru/salutebot/gigachat-key) для создания блоков **Генерация ответа** и **AI-ответ из базы знаний**. Ключ нужно получить и добавить в проект чат-бота.
Блок выполняет запрос в GigaChat. По параметрам, заданным в настройках блока, выполняется генерация ответа в GigaChat. После получения ответа выполняется переход по сценарию.
В настоящее время возможна генерация ответа только для проектов на русском языке.
## Как подключить блок в сценарий
Для подключения блока в сценарий:
  1. Откройте проект сценария Graph для вашего чат-бота.
  2. Выберите в сценарии шаг, на котором вы хотите добавить обращение в GigaChat.
  3. Добавьте блок **Генерация ответа**.
  4. Заполните параметры блока.
  5. Сохраните и соберите сценарий.

С рекомендациями по созданию промптов вы можете ознакомиться в разделе [Промпт-инжиниринг](https://developers.sber.ru/docs/ru/gigachat/prompts-hub/prompt-engineering).
**Параметры блока**
## Выходы из блока в сценарии
  * Успешно - успешное выполнение запроса в GigaChat и получение ответа
  * Ошибка - при выполнении запроса в GigaChat возникла ошибка
  * Сработал цензор - при срабатывании цензора в ходе обработки, когда GigaChat не отвечает на вопрос. Такой переход отображается только в случае, если в настройках блока включена настройка **Включить цензор**

Обратите внимание: клиенту не будут показаны дополнительные сообщения или уведомления пока не будет получен ответ от GigaChat.
## Обработка ошибок
В рамках выполнения блока может возникнуть ошибки по различным причинам. При возникновении ошибки выход из блока произойдет по переходу **Ошибка**. Для подробной обработки ошибки необходимо сохранять ответ со статусом ошибки в системные переменные:
## Список возвращаемых статусов ошибок
При совершении более 50 запросов в течение 10 минут будет произведена блокировка на 10 минут, по истечению которой вы сможете продолжить работу. Максимальное количество обращений от одного клиента - 500.
Ниже вы можете найти примеры использования блока с реальными промптами. Вы можете классифицировать сообщение пользователя по нескольким категориям.
## Пример классификации сообщений
  * **Паспортный стол** Любое обращение, в котором упоминается паспортный стол или регистрация человека по месту его нахождения. В обращении используются ключевые слова: `паспортный стол`, `регистрация граждан по месту жительства`, `регистрация граждан по месту пребывания`, `снятие с регистрационного учета через портал Госуслуги`, `снятие с регистрационного учета через МФЦ`.
  * **Получить ключ** Любое обращение, в котором спрашивают про ключ или ключи. В обращении используются ключевые слова: `получить ключи от домофона`, `получить метку`, `получить ключи от подъезда`.
  * **Регистрация в мобильном приложении** Любое обращение, в котором спрашивают про регистрацию в мобильном приложении. В обращении используются ключевые слова: `зарегистрироваться в мобильном приложении`, `регистрация в мобильном приложении`.
  * **Добавление объекта в мобильном приложении** Любое обращение, содержащее запросы: `добавить объект в мобильном приложении`, `добавить в мобильном приложении`.
  * **Контакты** Любое обращение, содержащее запросы: `номер телефона`, `контакты`, `номер телефона управляющей компании`, `телефон единого контакт-центра`.
  * **Показания счетчика** Любое обращение, содержащее запросы: `как передать показания счетчика`, `кому передать показания`, `показания приборов учетов`.
  * **Отключение** Любое обращение, в котором клиент спрашивает про отключение пожарной сигнализации или иного ресурса в квартире при выполнении любых работ.

## Пример промпта
```
В ответе верни только название категории к которой относится сообщение пользователя.  
Если обращение не соответствует никакой категории, ответь "Нет категории".  
Если ты не понял вопрос, ответь "Я не понял".  
Если пользователь задал вопрос, не отвечай на него, а верни категорию, к которой этот вопрос относится.  

```

Вы можете повысить качество работы чат-бота, используя [настройки модели GigaChat](https://developers.sber.ru/docs/ru/salutebot/gigachatsettings).