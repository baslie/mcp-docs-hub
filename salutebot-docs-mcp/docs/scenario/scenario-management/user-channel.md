---
title: Определяем откуда пришел пользователь
source_url: https://developers.sber.ru/docs/ru/salutebot/scenario/scenario-management/user-channel
tags: [Graph, Code]
---

# Определяем откуда пришел пользователь

При работе с чат-ботом может быть полезно различать пользователей в зависимости от канала, из которого они пришли. Такое разделение пользователей поможет сделать диалог с ними более предметным, например, предлагать особые условия определенной категории пользователей или при общении давать ссылки на те социальные сети, которые наиболее удобны пользователю (ссылку на Telegram, если пользователь пришел из Telegram и т.п.).
Для получения канала пользователя в сценарии:
Graph
Code
  1. Выберите экран в сценарии.
  2. Добавьте блок **Текст** , **Условие** или любой другой, в котором поддержаны переменные.
  3. Добавьте системную переменную `$userChannel`.

В результате при выполнении сценария будет получено значение канала, из которого пришел пользователь.
  1. Выберите нужный экран в сценарии.
  2. Добавьте системную переменную `$request.userChannel` в тэг ответа, условия или скрипта.

В результате при выполнении сценария будет получено значение канала, из которого пришел пользователь.
**Список доступных значений каналов в Jivo**
Пример использования в сценарии:
```
state: where order  
intent:/где_заказ  
if: $request.userChannel==='EMAIL'  
        go!:/emailCheck  
elseif: $request.userChannel==='WIDGET'  
        go!:/widgetCheck  
else:  
        go!:/allUserCheck  

```